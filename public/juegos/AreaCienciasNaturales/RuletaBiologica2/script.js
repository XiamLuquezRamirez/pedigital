const preguntas = {
  preguntas: {
    "A": [
      {
        "pregunta": "-	Molécula que codifica los datos genéticos en las células, guarda y transmite de generación en generación toda la información necesaria para el progreso de todas las funciones biológicas de un organismo",
        "respuesta": "ADN"
      },
      {
        "pregunta": "Es la abreviatura de ácido desoxirribonucleico",
        "respuesta": "ADN "
      },
      {
        "pregunta": "Es la Para de base nitrogenada en el ADN que siempre se aparea con la Timina.",
        "respuesta": "Adenina"
      },
      {
        "pregunta": "Es un ácido nucleico que se encarga de trasladar la información genética del ADN con el fin de sintetizar las proteínas según las funciones y características indicadas.",
        "respuesta": "ARN"
      }
    ],
    "B": [
      {
        "pregunta": "Tipo de nomenclatura taxonómica que solamente utiliza el género y la especie como la unidad básica para nombrar a los organismos.",
        "respuesta": "Binomial"
      },
      {
        "pregunta": "Son organismos que hacen parte del reino Monera.",
        "respuesta": "Bacterias"
      },
      {
        "pregunta": "Apellido del científico que estudió la relación entre el volumen y la presión de un gas a temperatura constante, Observando que el volumen de una masa dada de un gas es inversamente proporcional a su presión, siempre que la temperatura permanezca constante",
        "respuesta": "Boyle"
      }
    ],
    "C": [
      {
        "pregunta": "Es una categoría taxonómica situada entre el filo o división y el orden, está formada por familias que comparten características con su desarrollo.",
        "respuesta": "Clase"
      },
      {
        "pregunta": "Es la proporción o relación que hay entre la cantidad de soluto y la cantidad de disolvente.",
        "respuesta": "Concentración"
      },
      {
        "pregunta": "Fue el fundador de la teoría moderna de la evolución",
        "respuesta": "Charles Darwin"
      }
    ],
	   "D": [
      {
        "pregunta": "Nombre que reciben las Células u organismos con dotación doble de cromosomas, es decir, tiene dos copias de cada cromosoma.",
        "respuesta": "Diploides"
      },
      {
        "pregunta": "Es un azúcar de cinco carbonos que se encuentra en el ADN",
        "respuesta": "Desoxirribosa"
      },
      {
        "pregunta": "Enfermedad de herencia genética que Consiste en la incapacidad de distinguir determinados colores",
        "respuesta": "Daltonismo"
      }
    ],
	"E": [
      {
        "pregunta": "Teoría que afirma que todos los seres vivos tienen un origen común y proceden unos de otros",
        "respuesta": "Evolucionismo"
      },
      {
        "pregunta": "Es el proceso de cambio y adaptación al entorno de los seres vivos",
        "respuesta": "Evolución"
      },
      {
        "pregunta": "Es el proceso por el que desaparecen todos los miembros de una especie o grupo de seres vivos",
        "respuesta": "Extinción"
      }
    ],
	"F": [
      {
        "pregunta": "Nombre de las características o Propiedades observables o físicas del genotipo",
        "respuesta": "Fenotipo"
      },
      {
        "pregunta": "Teoria que sostenía que los seres vivos se han mantenido siempre tal y como lo conocemos ahora.",
        "respuesta": "Fijismo"
      },
      {
	  
        "pregunta": "Es la categoría taxonómica conformada por varios géneros estructuralmente relacionados entre sí, con características comunes.",
        "respuesta": "Familia"
      }
    ],
		"G": [
      {
        "pregunta": "Es la rama de la biología que estudia los mecanismos de la herencia biológica y el ADN",
        "respuesta": "Genética"
      },
      {
        "pregunta": "Es todo el material genético de un organismo en particular y se hereda generación tras generación",
        "respuesta": "Genoma"
      },
      {
	  
        "pregunta": "Son segmentos específicos de ADN son responsable de un determinado carácter en los organismos",
        "respuesta": "Gen"
      }
    ],
	"H": [
      {
        "pregunta": "Nombre de las enzimas que separan las dos cadenas del ADN para que puedan servir de molde para la síntesis de las nuevas en el proceso de replicación. ",
        "respuesta": "Helicasas"
      },
      {
        "pregunta": "Enfermedad hereditaria que se caracteriza por la incapacidad de coagular la sangre, debido a la mutación de uno de los factores proteicos",
        "respuesta": "Hemofilia"
      },
      {
	  
        "pregunta": "¿El nombre Fungí se utiliza para designar al reino compuesto por organismos como los?",
        "respuesta": "Hongos"
      }
    ],
	"I": [
      {
        "pregunta": "Es el tipo de interacción que tienen lugar usualmente entre dos o más individuos pertenecientes a especies diferentes.",
        "respuesta": "Interespecifica"
      },
      {
        "pregunta": "Un ecosistema está conformado por _______________, población y comunidad",
        "respuesta": "Individuo"
      },
      {
        "pregunta": "-	 Las soluciones electrolíticas también llamada _________",
        "respuesta": "Iónicas"
      }
    ],
    "J": [
      
      {
        "pregunta": "Nombre del científico cuyos experimentos demostraron que el calor es una forma de energía",
        "respuesta": "Joule"
      }
    ],
    "K": [
      {
        "pregunta": "Unidas de medida para temperatura",
        "respuesta": "Kelvin"
      }
    ],
	   "L": [
      {
        "pregunta": "Es el lugar específico de un gen en un cromosoma.",
        "respuesta": "Locus"
      },
      {
        "pregunta": "Nombre de las sustancias que pueden disolverse más fácilmente en aceites",
        "respuesta": "Liposolubles"
      },
      {
        "pregunta": "-	¿El vinagre o agua oxigenada son soluciones __________?",
        "respuesta": "Líquidas"
      }
    ],
	"M": [
      {
        "pregunta": "Es una variación espontánea e impredecible en la secuencia de genes que componen el ADN de un ser vivo, que introduce cambios puntuales",
        "respuesta": "Mutación"
      },
      {
        "pregunta": "Nombre que reciben las enfermedades genéticas que se producen por la alteración de un solo gen",
        "respuesta": "Monogenéticas"
      },
      {
        "pregunta": "¿Nombre del proceso de división celular en el que se producen células genéticamente idénticas de modo que el núcleo de las células duplica su material para dividirse?",
        "respuesta": "Mitosis"
      },
      {
        "pregunta": "Es el número de moles de soluto que están disueltos en un determinado volumen",
        "respuesta": "Molaridad"
      }
    ],
	"N": [
      {
        "pregunta": "Es el número de Equivalentes Químicos (EQ) o equivalentes-gramo de soluto por litro de disolución.",
        "respuesta": "Normalidad"
      },
      {
        "pregunta": "Son enzimas que se encargan de romper los enlaces fosfodiéster entre nucleótidos, dando lugar aun “punto de origen” o inicio de replicación.",
        "respuesta": "Nucleasas"
      },
      {
	  
        "pregunta": "¿ (nº de Equivalentes / litros de disolución) corresponde a?",
        "respuesta": "Normalidad"
      }
    ],
		"O": [
      {
        "pregunta": "Es la categoría taxonómica entre la clase y la familia, está formado por familias relacionadas entre sí, que comparten características con su desarrollo.",
        "respuesta": "Orden"
      },
      {
        "pregunta": "Se define como una perturbación suelen necesitar de un medio material para propagarse, aunque algunas lo pueden hacer perfectamente en el vacío",
        "respuesta": "Onda"
      },
      {
	  
        "pregunta": "Órgano encargado de percibir las ondas sonaras para que estas sean interpretadas ",
        "respuesta": "Oido"
      }
    ],
	"P": [
      {
        "pregunta": "Nombre que reciben las enfermedades genéticas generadas por mutaciones en varios genes, generalmente de diferentes cromosomas.",
        "respuesta": "Poligénicas "
      },
      {
        "pregunta": "¿Cuál es reino que barca los protozoos, que son unicelulares, y las algas, que pueden ser unicelulares o pluricelulares (coloniales)?",
        "respuesta": "Protista"
      },
      {
	  
        "pregunta": "-	Es el grupo de organismos del mismo tipo (especie), que viven en un mismo lugar.",
        "respuesta": "Población"
      }
    ],
	"Q": [
      {
        "pregunta": "El proceso mediante el cual los organismos utilizan la energía química para sintetizar compuestos orgánicos a partir de sustancias inorgánicas.",
        "respuesta": "Quimiosíntesis"
      },
      {
        "pregunta": "Receptor sensorial que detecta y responde a los cambios en la concentración de sustancias químicas en el entorno.",
        "respuesta": "Quimiorreceptor"
      }
    ],
    "R": [
      {
        "pregunta": "Es el proceso mediante el cual una molécula de ADN genera dos idénticas a sí misma.",
        "respuesta": "Replicación"
      },
      {
        "pregunta": "Nombre de la azúcar que compone al ARN.",
        "respuesta": "Ribosa"
      },
      {
        "pregunta": "Esta categoría taxonómica, es la más conocida por todos. Separa los organismos según el tipo de células, la cantidad de células y los procesos fisiológicos fundamentales.",
        "respuesta": "Reino"
      }
    ],
    "S": [
      {
        "pregunta": "Es la capacidad que posee determinada sustancia para disolverse en otra y formar un sistema homogéneo",
        "respuesta": "Solubilidad"
      },
      {
        "pregunta": "Es la sustancia en la que se disuelve un determinado soluto",
        "respuesta": "Solvente"
      },
      {
        "pregunta": "¿Cuándo el resultado de la duplicación se obtiene una molécula de ADN posee una hebra vieja y una hebra nueva se denomina?",
        "respuesta": "Semiconservativa"
      }
    ],
	   "T": [
      {
        "pregunta": "Es la ciencia que estudia el ordenamiento y clasificación de los seres vivos",
        "respuesta": "Taxonomía"
      },
      {
        "pregunta": "Es el tipo de ARN que se caracterizan por poseer una secuencia específica de tres nucleótidos, llamado anticodón, que reconoce el codón en el ARNm.",
        "respuesta": "Transferencia"
      },
      {
        "pregunta": "Es la cantidad de individuos nacidos en un tiempo determinado",
        "respuesta": "Tasa de natalidad"
      }
    ],
	"U": [
      {
        "pregunta": "Nombre de la base nitrogenada que solo es posible encontrar normalmente en moléculas de ARN.",
        "respuesta": "Uracilo"
      },
      {
        "pregunta": "Tipo de Ondas que se propagan a lo largo de una sola dimensión del espacio, como las ondas en los muelles o en las cuerdas.",
        "respuesta": "Unidimensionales"
      }
    ],
	"V": [
      {
        "pregunta": "Magnitud cuya unidad de medida es el metro cubico m^3",
        "respuesta": "Volumen"
      },
      {
        "pregunta": "Es la zona más baja de la onda",
        "respuesta": "Valle"
      },
      {
	  
        "pregunta": "¿Por qué medio se pueden trasmitirse las ondas electromagnéticas, pero no las mecánicas?",
        "respuesta": "Vacío"
      }
    ],
	"W": [
      {
        "pregunta": "Es la unidad de medida de la potencia (En Inglés)",
        "respuesta": "Watt"
      }
    ],
	"X": [
      {
        "pregunta": "Es un elemento químico de la tabla periódica cuyo símbolo es Xe es un Gas noble inodoro, muy pesado, incoloro.",
        "respuesta": "Xenón "
      },
      {
        "pregunta": "Es una estructura que transporta, a través de la planta, agua y sales minerales disueltas",
        "respuesta": "Xilema"
      }
    ],
	"Y": [
      {
        "pregunta": "-	Estructura en forma de brote que se encuentra en las plantas y que contiene células indiferenciadas capaces de crecer y desarrollarse en nuevos tejidos.",
        "respuesta": "Yema"
      },
      {
        "pregunta": "Elemento de la tabla periódica I",
        "respuesta": "Yodo "
      }
    ],
    "Z": [
      {
        "pregunta": "Célula resultada de la fertilización, que se forma cuando un espermatozoide se fusiona con un óvulo.",
        "respuesta": "Zigoto"
      },
      {
        "pregunta": "-	Nombre de La rama de la biología que se ocupa del estudio de los animales.",
        "respuesta": "Zoología"
      }
    ]
  }
};
let conse = 0;
let respuestaPreg="";
let letraActual = "";
$(document).ready(function () {
  setTimeout(function () {
    let audio2 = new Audio("../../sounds/enunciado_vocales_1.mp3");
    audio2.play();
  }, 100);

  setTimeout(() => {
    $("#principal").fadeToggle(1000);
    $("#fondo_blanco").fadeToggle(3000);
    setTimeout(() => {
      const divAnimado = document.querySelector(".overlay");
      divAnimado.style.animationName = "moverDerecha";
      divAnimado.style.animationDirection = "normal";
      divAnimado.style.display = "block";
      setTimeout(() => {
        const divAnimado2 = document.querySelector(".nube");
        divAnimado2.style.animationName = "moverArriba";
        divAnimado2.style.animationDirection = "normal";
        divAnimado2.style.display = "block";
        setTimeout(() => {
          divAnimado.style.backgroundImage = "url(../../images/ciencia/normal2.gif)";
          maquina2(
            "bienvenida",
            "Hola, soy Genio. <br> En este juego debes ir respondiendo las preguntas que se iran presentando, el juego te indicara la letra por la cual inica la respuesta de la pregunta",
            50,
            1
          );
        }, 3000);
      }, 2000);
    });
  }, 200);
});

function maquina2(contenedor, texto, intervalo, n) {
  var i = 0,
    // Creamos el timer
    timer = setInterval(function () {
      if (i < texto.length) {
        // Si NO hemos llegado al final del texto..
        // Vamos añadiendo letra por letra y la _ al final.
        $("#" + contenedor).html(texto.substr(0, i++) + "_");
      } else {
        // En caso contrario..
        // Salimos del Timer y quitamos la barra baja (_)
        clearInterval(timer);
        $("#" + contenedor).html(texto);
        if (!cerrardo) {
          document.querySelector("#btnomitir").style.display = "none";
          setTimeout(() => {
            cerrar_anuncio();
          }, 3000);
        }
        // Auto invocamos la rutina n veces (0 para infinito)
        if (--n != 0) {
          setTimeout(function () {
            maquina2(contenedor, texto, intervalo, n);
          }, 3600);
        }
      }
    }, intervalo);
}

let cerrardo = false;
function cerrar_anuncio() {
  cerrardo = true;
  const divAnimado2 = document.querySelector(".nube");
  divAnimado2.style.animationName = "moverabajo";
  const divAnimado = document.querySelector(".overlay");
  divAnimado.style.backgroundImage = "url(../../images/ciencia/normal1.gif)";
  $("#fondo_blanco").fadeToggle(3000);
  setTimeout(function () {
    divAnimado.style.animationName = "moverIzquierda";
    divAnimado.style.animationDirection = "normal";
    setTimeout(() => {
      $("#principal").fadeToggle(1000);
      iniciarJuego();
    }, 2000);
  }, 2000);
}

function iniciarJuego() {
  inicioTiempo();
  siguientePregunta();
}



function siguientePregunta() {

    document.getElementById("respuesta").value="";
    document.getElementById("respuesta").style.backgroundColor="#FFFFFF";
    document.getElementById("RespuestaCorrecta").innerHTML="";


   const letras = Object.keys(preguntas["preguntas"]);
  if (conse <= 27) {
     letraActual = letras[conse];
    
    const preguntasDeLetra = preguntas["preguntas"][letraActual];

    let numAleatorio=Math.floor(Math.random() * preguntasDeLetra.length);

    const preguntaAleatoria = preguntasDeLetra[numAleatorio];

    // Muestra la pregunta
    document.getElementById("texxtPregunta").innerHTML =preguntaAleatoria.pregunta;
    document.getElementById("divLetra").innerHTML =letraActual;
    respuestaPreg =preguntaAleatoria.respuesta.toLowerCase();

    conse++;

    let miBoton = document.getElementById(letraActual );
 
    miBoton.style.color="#000000";
    

  }else{
    resultadoFinal();
  }
}

let respuesta_correcta=0;

function verificarRespuesta(){
  let respuesta= document.getElementById("respuesta").value.toLowerCase();

  console.log(respuesta+"=="+respuestaPreg);
  if(respuesta==respuestaPreg){
    respuesta_correcta++;
    document.getElementById("respuesta").style.backgroundColor="#71d90b";
  }else{
    document.getElementById("respuesta").style.backgroundColor="#DD1D39";
    document.getElementById("RespuestaCorrecta").innerHTML=respuestaPreg;

  }

  setTimeout(() => {
    siguientePregunta();
  }, 2000);
  
}

function inicioTiempo() {
  // Obtenemos el elemento del contador
  var contador = document.getElementById("contador");

  // Convertimos 3 minutos a milisegundos
  var tiempoLimite = 3 * 60 * 1000;

  // Obtenemos la hora actual
  var horaActual = new Date().getTime();

  // Establecemos la hora límite
  var horaLimite = horaActual + tiempoLimite;

  // Actualizamos el contador cada segundo
  var intervalo = setInterval(function () {
    // Obtenemos la hora actual
    var horaActual = new Date().getTime();

    // Calculamos la distancia entre la hora límite y la hora actual
    var distancia = horaLimite - horaActual;

    // Calculamos los minutos y segundos restantes
    var minutos = Math.floor((distancia % (1000 * 60 * 60)) / (1000 * 60));
    var segundos = Math.floor((distancia % (1000 * 60)) / 1000);

    // Mostramos el contador en formato mm:ss
    contador.innerHTML =
      (minutos < 10 ? "0" : "") +
      minutos +
      ":" +
      (segundos < 10 ? "0" : "") +
      segundos;

    // Si el tiempo ha expirado, detenemos el intervalo y mostramos un mensaje
    if (distancia < 0) {
      clearInterval(intervalo);
      contador.innerHTML="00:00";
      resultadoFinal();
    }
  }, 1000);
}

function resultadoFinal(){

    $("#principal").fadeToggle(1000);
    $("#final").fadeToggle(1000);

    let npreg =conse;
    let prom= npreg/2;



    if (respuesta_correcta <= prom) {
        var audio = new Audio("../../sounds/game_over.mp3");
        audio.play();
        document.getElementById("final").style.backgroundImage =
            "url(../../images/ciencia/derrota.gif)";
    } else {
        document.getElementById("final").style.backgroundImage =
            "url(../../images/ciencia/victoria.gif)";
        var audio = new Audio("../../sounds/victory.mp3");
        audio.play();
    }
    document.getElementById("texto_final").innerText ="Lograste Llegar hasta la letra "+letraActual+ " y  contestaste "+respuesta_correcta+" de "+npreg+" pregustas correctamente";
}

